<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>ğŸ©µğŸ©· æ˜Ÿé€”ç’€ç’¨ ğŸ©·ğŸ©µ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@font-face {
  font-family: "Smiley Sans";
  src: url("https://cdn.jsdelivr.net/gh/atelier-anchor/smiley-sans@latest/SmileySans-Oblique.otf")
       format("opentype");
}

* { box-sizing: border-box; }

body {
  font-family: "Smiley Sans",-apple-system,BlinkMacSystemFont,
               "PingFang SC","Microsoft YaHei",sans-serif;
  margin: 0;
  background: linear-gradient(135deg,#4ab7cc 0%,#f2b3c6 100%);
  min-height: 100vh;
}

/* ===== å¸ƒå±€ ===== */
.layout {
  max-width: 1100px;
  margin: 60px auto;
  padding: 0 20px;
  display: flex;
  gap: 28px;
  align-items: stretch;
}

/* ===== å·¦ä¾§ ===== */
.left { width: 260px; }

.block {
  background: #fff;
  border-radius: 16px;
  padding: 18px 20px;
  margin-bottom: 22px;
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}

.block h3 {
  font-size: 14px;
  margin: 0 0 10px;
}

.block p {
  font-size: 13px;
  line-height: 1.8;
  color: #555;
}

.block a {
  font-size: 13px;
  color: #4ab7cc;
  text-decoration: none;
  font-weight: 600;
}

/* ç›®å½• */
.year { cursor:pointer; margin-top:8px; }
.month { display:none; margin-left:10px; }
.year.open .month { display:block; }

.month-title {
  font-size: 13px;
  cursor: pointer;
  margin: 6px 0;
}

.day a {
  font-size: 13px;
  color: #666;
  text-decoration: none;
  display:inline-block;
  padding: 3px 8px;
  border-radius: 6px;
}

.day a:hover {
  background: rgba(74,183,204,.15);
}

/* ===== å³ä¾§ ===== */
.right {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.notice {
  background: #fff;
  border-radius: 18px;
  padding: 26px 28px;
  margin-bottom: 26px;
  box-shadow: 0 10px 30px rgba(0,0,0,.12);
}

.notice.message {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.notice-date {
  font-size: 12px;
  color: #999;
}

.notice-title {
  font-size: 18px;
  margin: 6px 0 10px;
}

.notice p {
  font-size: 14px;
  line-height: 1.9;
  color: #555;
}

/* æ‰‹æœº */
@media (max-width:768px){
  .layout{ flex-direction:column; }
  .left{ width:100%; }
}
</style>
</head>

<body>

<div class="layout">

  <!-- å·¦ä¾§ -->
  <div class="left">

    <div class="block">
      <h3>ğŸ©µğŸ©·ä¸€åˆ‡çš„å¼€å§‹ğŸ©·ğŸ©µ</h3>
      <p>
        å¤§å®¶å¥½<br>
        è¿™æ˜¯ä¸€ä¸ªä¸ºå–œæ¬¢è€Œç•™ä¸‹çš„è§’è½<br>
        åœ¨è¿™é‡Œå¸Œæœ›å¯ä»¥æ…¢æ…¢è®°å½•<br>
        é‚£äº›æ„ŸåŠ¨ã€é™ªä¼´ä¸æ¿€åŠ±<br>
        ä»¥åŠè®©æˆ‘ä»¬ç»§ç»­å‘å‰çš„å°å°å…‰äº®<br>
        æ„¿å¹¸ç¦é™ä¸´åœ¨æˆ‘ä»¬æ¯ä¸€ä¸ªäººçš„æ‰‹å¿ƒ
      </p >
    </div>

    <div class="block">
      <h3>ğŸ©µğŸ©·NEWğŸ©·ğŸ©µ</h3>
      <p>ç«™ç‚¹æ›´æ–°ä¸é€šçŸ¥ã€‚</p >
      <a href="notices.html ">ç’€ç’¨ä¹‹è·¯ â†’</a >
    </div>

    <div class="block">
      <h3>ğŸ©µğŸ©·å¹¸ç¦æ—¶åˆ»ğŸ©·ğŸ©µ</h3>
      <p>
        ç¥ä½ ä»¬æ˜Ÿé€”ç’€ç’¨ï¼Œ<br>
        ä¹Ÿç¥æ„¿å¹¸ç¦é™ä¸´æˆ‘ä»¬çš„æ‰‹å¿ƒ
      </p >
      <a href="happiness.html">å‰å¾€å¹¸ç¦ â†’</a >
    </div>

    <div class="block">
      <h3>ğŸ©µğŸ©·ç©†æ©¹ğŸ©·ğŸ©µ</h3>
      <div id="diary.json">
        <p style="font-size:12px;color:#aaa">ğŸ“­ æ­£åœ¨åŠ è½½â€¦</p >
      </div>
    </div>

  </div>

  <!-- å³ä¾§ -->
  <div class="right">

    <!-- ç«™ç‚¹æ›´æ–° -->
    <div class="notice" id="news">
      <div class="notice-date">2026-02-09</div>
      <div class="notice-title">ğŸ©µğŸ©· ä¸€è§‰é†’æ¥æ˜¯æ¸…æ™¨ ğŸ©·ğŸ©µ</div>
      <p>
        è®©æˆ‘ä»¬ä¸€èµ·æˆé•¿ï¼Œä¸€èµ·è¿›æ­¥<br>
        è®°å½•æ¯ä¸€ä¸ªå¹¸ç¦æ—¶åˆ»<br>
        æ¯ä¸€æ®µç’€ç’¨æ˜Ÿå…‰
      </p >
    </div>

    <!-- ç•™è¨€æ¿ -->
    <div class="notice message" id="message">
      <div class="notice-title">ç•™è¨€æ¿</div>

      <div
        id="cusdis_thread"
        data-host="https://cusdis.com"
        data-app-id="6bd954b7-e2b4-4206-a1c3-3072cecfc326"
        data-page-id="index"
        data-page-title="æ˜Ÿé€”ç’€ç’¨">
      </div>

      <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>
    </div>

  </div>

</div>

<!-- è‡ªåŠ¨ç›®å½• -->
<script>
fetch("diary.json")
  .then(res => {
    if (!res.ok) throw new Error("diary.json åŠ è½½å¤±è´¥");
    return res.json();
  })
  .then(list => {
    if (!Array.isArray(list)) throw new Error("diary.json ä¸æ˜¯æ•°ç»„");

    const container = document.getElementById("auto-directory");
    container.innerHTML = "";

    const tree = {};
    list.forEach(d=>{
      const [y,m,day]=d.split("-");
      tree[y]??={};
      tree[y][m]??=[];
      tree[y][m].push(day);
    });

    Object.keys(tree).sort().reverse().forEach(y=>{
      const year=document.createElement("div");
      year.className="year";
      year.textContent=y;
      year.onclick=()=>year.classList.toggle("open");

      const months=document.createElement("div");
      months.className="month";

      Object.keys(tree[y]).sort().reverse().forEach(m=>{
        const mt=document.createElement("div");
        mt.className="month-title";
        mt.textContent=m;

        const days=document.createElement("div");
        days.className="day";

        tree[y][m].sort((a,b)=>b-a).forEach(d=>{
          const a=document.createElement("a");
          a.href=`diary/${y}/${m}/${y}-${m}-${d}.html`;
          a.textContent=d;
          days.appendChild(a);
        });

        mt.onclick=e=>{
          e.stopPropagation();
          days.style.display = days.style.display==="block"?"none":"block";
        };

        months.append(mt,days);
      });

      year.appendChild(months);
      container.appendChild(year);
    });
  })
  .catch(err => {
    document.getElementById("auto-directory").innerHTML =
      "<p style='font-size:12px;color:#aaa'>ğŸ“­ æš‚æ— æ—¥è®°ç´¢å¼•</p >";
    console.error(err);
  });
</script>

<footer style="text-align:center;font-size:12px;color:#eee;margin:30px 0;">
  Â© 2026 LUMU
</footer>

</body>
</html>
